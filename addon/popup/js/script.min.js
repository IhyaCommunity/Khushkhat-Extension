const TITLE_ENABLE="Khushkhat Enable",TITLE_DISABLE="Khushkhat Disable",CSS={cssOrigin:"user",file:"/css/style.css"};var currentTab=null,controlButton=document.querySelector(".control-button"),optionShowButton=document.querySelector(".option-show-button"),optionHideButton=document.querySelector(".option-hide-button"),controlTab=document.querySelector(".control"),optionTab=document.querySelector(".option");function onError(t){console.log(t)}function setUIState(t){t?(controlButton.classList.add("enable"),optionShowButton.disabled=!1,browser.pageAction.setIcon({tabId:currentTab.id,path:"../icons/on.svg"}),browser.pageAction.setTitle({tabId:currentTab.id,title:TITLE_DISABLE})):(controlButton.classList.remove("enable"),optionShowButton.disabled=!0,browser.pageAction.setIcon({tabId:currentTab.id,path:"../icons/off.svg"}),browser.pageAction.setTitle({tabId:currentTab.id,title:TITLE_ENABLE}))}function togglePageStyles(t){browser.pageAction.getTitle({tabId:t.id}).then(function(t){t===TITLE_ENABLE?(setUIState(!0),browser.tabs.insertCSS(CSS)):(setUIState(!1),browser.tabs.removeCSS(CSS))})}function setOptionState(t){t?(optionTab.classList.add("show"),controlTab.classList.remove("show"),optionShowButton.classList.add("hide"),optionHideButton.classList.remove("hide")):(optionTab.classList.remove("show"),controlTab.classList.add("show"),optionHideButton.classList.add("hide"),optionShowButton.classList.remove("hide"))}browser.tabs.query({currentWindow:!0,active:!0}).then(t=>{currentTab=t[0],browser.pageAction.getTitle({tabId:currentTab.id}).then(t=>{t==TITLE_DISABLE&&setUIState(!0)})},onError),controlButton.addEventListener("click",()=>{togglePageStyles(currentTab)}),optionShowButton.addEventListener("click",()=>{setOptionState(!0)}),optionHideButton.addEventListener("click",()=>{setOptionState(!1)});